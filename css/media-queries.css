/* Media Query Styles */

/* Desktop/Widescreen styling */
@media (min-width: 81rem) {
    .main-content {
        align-items: start;
        display: grid;
        gap: 1.25rem;
        grid-auto-rows: 1fr;
        grid-template-columns: 30% 1fr;
    }

    .item-catalog, .shopping-lists {
        height: 100%;
        min-width: 0;
        overflow-y: scroll;
    }

    .item-catalog {
        display: flex;
        flex-direction: column;
        min-height: 0;
        overflow: hidden;

        h2, .filter-bar, .search-filter { flex: 0 0 auto; }

        #item-list {
            flex: 1 1 auto;
            max-height: 100dvh;
            overflow: auto;
        }
    }

    .create-list { flex-direction: row; }

    .shopping-lists {
        display: grid;
        grid-template-areas:
        "title         prices"
        "create        prices"
        "tabs          prices"
        "groupcontrol  prices"
        "listcontent   prices";
        grid-template-columns: auto 35%;
        grid-template-rows: auto auto auto auto 1fr; /* header, create, tabs, group control, list body */
        gap: 0 1.5rem;

        & > h2                     { grid-area: title; }
        & > .create-list           { grid-area: create; }
        & > #shopping-list-tabs    { grid-area: tabs; }
        & > .list-sticky-bar       { grid-area: groupcontrol; }
        & > #shopping-list-content { grid-area: listcontent; min-height: 0; overflow: auto; }
        & > #prices-summary        { grid-area: prices; min-height: 0; overflow: auto; }
    }

    #prices-summary {
        #prices-breakdown {
            padding: 0;

            h4 {
                margin-bottom: .55rem;
                padding-bottom: .25rem;
            }
        }
    }
}


/* Desktop: keep tabs, hide switcher (or remove this block if you want both) */
@media (min-width: 50.001rem) {
    .list-switcher { display: none; }
}

/* Mobile styling */
@media (max-width: 50rem) {
    body { padding: .5rem; }

    select, .button, .tab-btn { min-height: 2.125rem; }

    header, footer {
        align-items: flex-start;
        flex-direction: column;
        gap: 1rem;
        justify-items: flex-start;
        padding: .5rem .5rem 1rem;
    }

    /* Sticky mobile tabs under header */
    .mobile-tabs {
        background: var(--colorWhite);
        border-bottom: 1px solid var(--colorDarkGray);
        display: flex;
        gap: 0 .25rem;
        justify-content: center;
        padding: .5rem .25rem 0;
        position: sticky;
        top: calc(env(safe-area-inset-top, 0px) + 0.01rem);
        z-index: 30;

        .tab-btn {
            background: var(--colorLightGray);
            border: none;
            border-radius: .5rem .5rem 0 0;
            color: #000;
            cursor: pointer;
            flex: 1 1 0;
            font-size: var(--fontSize-0);
            font-weight: 600;
            padding: 0.75rem 1rem;
            transition: background 0.2s, color 0.2s;
        }

        .tab-btn.active {
            background: var(--colorPrimary);
            color: var(--colorWhite);
        }
    }

    .main-content { grid-template-columns: 1fr; }

    #item-catalog-panel, #shopping-lists-panel { display: none; }

    .item-catalog, .shopping-lists {
        border-top: none;
        border-radius: .3125rem;
        border-top-left-radius: 0;
        border-top-right-radius: 0;
        padding: .9375rem;
    }

    #item-catalog-panel.active, #shopping-lists-panel.active { display: block; }

    #item-list, #shopping-list-tabs, #shopping-list-content ul {
        max-height: 100dvh;

        li {
            font-size: var(--fontSize--1);

            span { flex: 1; }

            .price {
                font-size: var(--fontSize--2);
                font-weight: bold;
            }
        }
    }

    #prices-summary {
        margin-top: 1rem;

        #prices-breakdown {
            padding: 0;

            h4 { font-size: var(--fontSize-0); }

            .price-card, ul {
                li {
                    font-size: var(--fontSize--1);
                    margin-bottom: .25rem;
                }
            }
        }
    }

    .item-catalog .filter-bar, .list-sticky-bar {
        background: var(--colorWhite);
        padding-top: .5rem;
        position: sticky;
        top: calc((env(safe-area-inset-top, 0px)) + 3.25rem);
        z-index: 20;
    }

    #shopping-list-tabs { display: none !important; }

    .list-switcher {
        display: block !important;
        margin: .25rem 0 .5rem;

        #list-select {
            background: var(--colorWhite);
            border: 1px solid var(--colorDarkGray);
            border-radius: .35rem;
            color: #000;
            margin: .25rem 0 0 ;
            padding: .5rem .6rem;
            width: 100%;
        }
    }

    .create-list {
        flex-direction: column;
        width: 100%;

        #new-list-name { padding: .4375rem .25rem; }

        .action-buttons {
            gap: .375rem;

            button { max-width: none; }
        }
    }
}
